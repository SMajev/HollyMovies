{% extends 'base.html' %}

{% block content %}
<body>
    <h1>All Movies</h1>
    <a class='btn btn-secondary' href='{% url 'movies' %}?s=title'>Sort by name</a>
    <a class='btn btn-secondary' href='{% url 'movies' %}?s=released'>Sort by date</a>
    <a class='btn btn-secondary' href='{% url 'movies' %}?s=rating'>Sort by rating</a>
    <ul>
        {% for movie in movies %}
        <li>
            <h5><a href="{% url 'movie-detail' pk=movie.id %}"> {{ movie.title }}</a>  {{ movie.released.year }} - {{ movie.genre.name }} </h5>
        </li>
        {% endfor %}
    </ul>
    <div class='pagination'>
        Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
    </div> 
    <div>    
        {% if page_obj.has_previous %}
            <a class='btn btn-secondary' href='?page=1'>&laquo; first </a>
            <a class='btn btn-secondary' href='?page={{ page_obj.previous_page_number }}'> previous</a>
        {% else %}
            <a class='btn btn-secondary' href=''>&laquo; first </a>
            <a class='btn btn-secondary' href=''> previous</a>
        {% endif %}
        {% if page_obj.has_next %}
            <a class='btn btn-secondary' href='?page={{ page_obj.next_page_number }}'>next</a>
            <a class='btn btn-secondary' href='?page={{ page_obj.paginator.num_pages }}'>last &raquo; </a>
        {% else %}
        <a class='btn btn-secondary' href=''>next</a>
            <a class='btn btn-secondary' href=''>last &raquo; </a>
        {% endif %}   
    </div>
    </body> 
{% endblock %}