{% extends 'base.html' %}

{% block content %}
    <h1>All Movies</h1>
    <a class='btn btn-secondary' href='{% url 'movies' %}?s=title'>Sort by name</a>
    <a class='btn btn-secondary' href='{% url 'movies' %}?s=released'>Sort by date</a>
    <a class='btn btn-secondary' href='{% url 'movies' %}?s=rating'>Sort by rating</a>
    <ul>
        {% for movie in movies %}
        <li>
            <a href="{% url 'movie-detail' pk=movie.id %}"> {{ movie.title }}</a>  {{ movie.released.year }} - {{ movie.genre.name }} 
        </li>
        {% endfor %}
    </ul>
    <div class='pagination'>
        <span class='step-links'>
            {% if is_paginated %}
                {% if page_obj.has_previous %}
                    <a class='btn btn-outline-info ' href='?page=1'>First</a>
                {% endif %}
            {% endif %}

        <span class='current'>
            Page {{ number }} of {{ paginator.num_pages }}

        </span>
    </div> 
{% endblock %}